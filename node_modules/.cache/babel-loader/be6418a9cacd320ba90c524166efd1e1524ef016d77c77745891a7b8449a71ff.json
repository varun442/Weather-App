{"ast":null,"code":"import _regeneratorRuntime from\"D:/Die Trying/React/weather-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Die Trying/React/weather-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/Die Trying/React/weather-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Die Trying/React/weather-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Die Trying/React/weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import Search from\"./Components/search/search\";import CurrentWeather from\"./Components/current-weather/current-weather\";import Forecast from\"./Components/forecast-weather/forecast\";import CurrentPollution from\"./Components/current-pollution/currentpollution\";import ForecastPollution from\"./Components/forecast-pollution/forecastpollution\";import{WEATHER_API_URL,WEATHER_API_KEY,POLLUTION_API_URL,POLLUTION_API_KEY}from\"./api\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentWeather=_useState2[0],setCurrentWeather=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),forecast=_useState4[0],setForecast=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),currentPollution=_useState6[0],setCurrentPollution=_useState6[1];var _useState7=useState({button1:false,button2:false,button3:false}),_useState8=_slicedToArray(_useState7,2),toggle=_useState8[0],setToggle=_useState8[1];var handleClick=function handleClick(buttonId){setToggle(_objectSpread(_objectSpread({},toggle),{},_defineProperty({},buttonId,!toggle[buttonId])));};var handleOnSearchChange=function handleOnSearchChange(searchData){var _searchData$value$spl=searchData.value.split(\" \"),_searchData$value$spl2=_slicedToArray(_searchData$value$spl,2),lat=_searchData$value$spl2[0],lon=_searchData$value$spl2[1];var currentWeatherFetch=fetch(\"\".concat(WEATHER_API_URL,\"/weather?lat=\").concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(WEATHER_API_KEY,\"&units=metric\"));var forecastFetch=fetch(\"\".concat(WEATHER_API_URL,\"/forecast?lat=\").concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(WEATHER_API_KEY,\"&units=metric\"));var currentPollutionFetch=fetch(\"\".concat(POLLUTION_API_URL,\"?lat=\").concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(POLLUTION_API_KEY));Promise.all([currentWeatherFetch,forecastFetch,currentPollutionFetch]).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(response){var weatherResponse,forcastResponse,currentPollution;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return response[0].json();case 2:weatherResponse=_context.sent;_context.next=5;return response[1].json();case 5:forcastResponse=_context.sent;_context.next=8;return response[2].json();case 8:currentPollution=_context.sent;setCurrentWeather(_objectSpread({city:searchData.label},weatherResponse));setForecast(_objectSpread({city:searchData.label},forcastResponse));setCurrentPollution(_objectSpread({},currentPollution));case 12:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(console.log);console.log(forecast);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Search,{onSearchChange:handleOnSearchChange}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setToggle(_objectSpread(_objectSpread({},toggle),{},{button1:!toggle.button1}));},children:\"Weather Forecast\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setToggle(_objectSpread(_objectSpread({},toggle),{},{button2:!toggle.button2}));},children:\"Current Pollution\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setToggle(_objectSpread(_objectSpread({},toggle),{},{button3:!toggle.button3}));},children:\"Forecast Pollution\"}),currentWeather&&/*#__PURE__*/_jsx(CurrentWeather,{data:currentWeather}),forecast&&toggle.button1&&/*#__PURE__*/_jsx(Forecast,{data:forecast}),currentPollution&&toggle.button2&&/*#__PURE__*/_jsx(CurrentPollution,{data:currentPollution}),/*#__PURE__*/_jsx(ForecastPollution,{})]});}export default App;","map":{"version":3,"names":["useState","Search","CurrentWeather","Forecast","CurrentPollution","ForecastPollution","WEATHER_API_URL","WEATHER_API_KEY","POLLUTION_API_URL","POLLUTION_API_KEY","App","currentWeather","setCurrentWeather","forecast","setForecast","currentPollution","setCurrentPollution","button1","button2","button3","toggle","setToggle","handleClick","buttonId","handleOnSearchChange","searchData","value","split","lat","lon","currentWeatherFetch","fetch","forecastFetch","currentPollutionFetch","Promise","all","then","response","json","weatherResponse","forcastResponse","city","label","catch","console","log"],"sources":["D:/Die Trying/React/weather-app/src/App.js"],"sourcesContent":["import { useState } from \"react\";\nimport Search from \"./Components/search/search\";\nimport CurrentWeather from \"./Components/current-weather/current-weather\";\nimport Forecast from \"./Components/forecast-weather/forecast\";\nimport CurrentPollution from \"./Components/current-pollution/currentpollution\";\nimport ForecastPollution from \"./Components/forecast-pollution/forecastpollution\";\nimport {\n  WEATHER_API_URL,\n  WEATHER_API_KEY,\n  POLLUTION_API_URL,\n  POLLUTION_API_KEY,\n} from \"./api\";\nimport \"./App.css\";\n\nfunction App() {\n  const [currentWeather, setCurrentWeather] = useState(null);\n  const [forecast, setForecast] = useState(null);\n  const [currentPollution, setCurrentPollution] = useState(null);\n  const [toggle, setToggle] = useState({\n    button1: false,\n    button2: false,\n    button3: false,\n  });\n\n  const handleClick = (buttonId) => {\n    setToggle({ ...toggle, [buttonId]: !toggle[buttonId] });\n  };\n  const handleOnSearchChange = (searchData) => {\n    const [lat, lon] = searchData.value.split(\" \");\n\n    const currentWeatherFetch = fetch(\n      `${WEATHER_API_URL}/weather?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}&units=metric`\n    );\n    const forecastFetch = fetch(\n      `${WEATHER_API_URL}/forecast?lat=${lat}&lon=${lon}&appid=${WEATHER_API_KEY}&units=metric`\n    );\n\n    const currentPollutionFetch = fetch(\n      `${POLLUTION_API_URL}?lat=${lat}&lon=${lon}&appid=${POLLUTION_API_KEY}`\n    );\n\n    Promise.all([currentWeatherFetch, forecastFetch, currentPollutionFetch])\n      .then(async (response) => {\n        const weatherResponse = await response[0].json();\n        const forcastResponse = await response[1].json();\n        const currentPollution = await response[2].json();\n\n        setCurrentWeather({ city: searchData.label, ...weatherResponse });\n        setForecast({ city: searchData.label, ...forcastResponse });\n        setCurrentPollution({ ...currentPollution });\n      })\n      .catch(console.log);\n\n    console.log(forecast);\n  };\n\n  return (\n    <div className=\"container\">\n      <Search onSearchChange={handleOnSearchChange} />\n      <button\n        onClick={() => {\n          setToggle({ ...toggle, button1: !toggle.button1 });\n        }}\n      >\n        Weather Forecast\n      </button>\n      <button\n        onClick={() => {\n          setToggle({ ...toggle, button2: !toggle.button2 });\n        }}\n      >\n        Current Pollution\n      </button>\n      <button\n        onClick={() => {\n          setToggle({ ...toggle, button3: !toggle.button3 });\n        }}\n      >\n        Forecast Pollution\n      </button>\n      {/* <button onClick={handleClick(\"button2\")}>Current Pollution</button> */}\n      {currentWeather && <CurrentWeather data={currentWeather} />}\n      {forecast && toggle.button1 && <Forecast data={forecast} />}\n      {currentPollution && toggle.button2 && <CurrentPollution data={currentPollution} />}\n      <ForecastPollution />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}